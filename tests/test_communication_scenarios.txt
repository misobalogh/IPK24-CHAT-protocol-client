 _______________________________________________________________________________________________________________________
|                                                                                                                       |
|  Michal Balogh, xbalog06                                                                                              |
|  VUT FIT                                                                                                              |
|  21.3.2024                                                                                                            |
|                                                                                                                       |
|  This file contains test scenarios for validating correct client - server communication using netcat                  |
|                                                                                                                       |
|_______________________________________________________________________________________________________________________|
|   Test Case 1  - Clients auth, send message, receives message                                                         |
|_______________________________________________________________________________________________________________________|
| SERVER                        |      CLIENT                       |   CLIENT SHOULD SEE                               |
|_______________________________|___________________________________|___________________________________________________|
| _                             |      /auth user1 123 nick         |   _                                               |
| reply ok is ok                |      Hello                        |   Success: ok                                     |
| msg from user2 is Hello back  |      C-d                          |   user2: Hello back                               |
|_______________________________|___________________________________|___________________________________________________|
|   Test Case 2  - Server could not authenticate client, retry auth                                                     |
|_______________________________________________________________________________________________________________________|
| SERVER                        |      CLIENT                       |   CLIENT SHOULD SEE                               |
|_______________________________|___________________________________|___________________________________________________|
| _                             |      /auth user1 125 nick         |   _                                               |
| reply nok is err              |      /auth user1 124 nick         |   Failure: err                                    |
| reply nok is err              |      /auth user1 123 nick         |   Failure: err                                    |
| reply ok is ok                |      Hello                        |   Success: ok                                     |
| msg from user2 is Hello       |      C-d                          |   user2: Hello                                    |
|_______________________________|___________________________________|___________________________________________________|
|   Test Case 3 - Server could not authenticate client, retry auth, fail                                                |
|_______________________________________________________________________________________________________________________|
| SERVER                        |      CLIENT                       |   CLIENT SHOULD SEE                               |
|_______________________________|___________________________________|___________________________________________________|
| _                             |      /auth user1 125 nick         |   _                                               |
| reply nok is err              |      /auth user1 124 nick         |   Failure: err                                    |
| reply nok is err              |      /auth user1 123 nick         |   Failure: err                                    |
| err from server err auth      |      (should send BYE and quit)   |   ERR FROM server: err auth                       |
| (BYE should be received)      |      _                            |   _                                               |
|_______________________________|___________________________________|___________________________________________________|
|   Test case 4 - Err in open state                                                                                     |
|_______________________________________________________________________________________________________________________|
| SERVER                        |      CLIENT                       |   CLIENT SHOULD SEE                               |
|_______________________________|___________________________________|___________________________________________________|
| _                             |      /auth user1 123 nick         |   _                                               |
| reply ok is ok                |      Hello                        |   Success: ok                                     |
| err from server is err        |      (should send BYE and quit)   |   ERR FROM server: err                            |
| (BYE should be received)      |      _                            |   _                                               |
|_______________________________|___________________________________|___________________________________________________|
|   Test case 5 - Bye before auth                                                                                       |
|_______________________________________________________________________________________________________________________|
| SERVER                        |      CLIENT                       |   CLIENT SHOULD SEE                               |
|_______________________________|___________________________________|___________________________________________________|
| BYE                           |      (should output ERR message,  |   ERR FROM server: BYE                            |
| (BYE should be received)      |      then BYE message and quit)   |   _                                               |
|_______________________________|___________________________________|___________________________________________________|
|   Test case 6 - Bye during auth                                                                                       |
|_______________________________________________________________________________________________________________________|
| SERVER                        |      CLIENT                       |   CLIENT SHOULD SEE                               |
|_______________________________|___________________________________|___________________________________________________|
| _                             |      /auth user1 123 nick         |   _                                               |
| BYE                           |      (should output ERR message,  |   ERR FROM server: BYE                            |
| (BYE should be received)      |      then BYE message and quit)   |   _                                               |
|_______________________________|___________________________________|___________________________________________________|
|   Test case 7 - Err during auth                                                                                       |
|_______________________________________________________________________________________________________________________|
| SERVER                        |      CLIENT                       |   CLIENT SHOULD SEE                               |
|_______________________________|___________________________________|___________________________________________________|
| _                             |      /auth user1 123 nick         |   _                                               |
| ERR                           |      (should send BYE and quit)   |   ERR FROM server: ERR                            |
| (BYE should be received)      |      _                            |   _                                               |
|_______________________________|___________________________________|___________________________________________________|
|   Test case 8 - Client sends bye before reply is received                                                             |
|_______________________________________________________________________________________________________________________|
| SERVER                        |      CLIENT                       |   CLIENT SHOULD SEE                               |
|_______________________________|___________________________________|___________________________________________________|
| _                             |      /auth user1 123 nick         |   _                                               |
| _                             |      C-c                          |   BYE should be received                          |
| (BYE should be received)      |      _                            |   _                                               |
|_______________________________|___________________________________|___________________________________________________|
|   Test case 9 - Server sends client reads messages (client should see all the messages sent by server)                |
|_______________________________________________________________________________________________________________________|
| SERVER                        |      CLIENT                       |   CLIENT SHOULD SEE                               |
|_______________________________|___________________________________|___________________________________________________|
| _                             |      /auth user1 123 nick         |   _                                               |
| reply ok is ok                |      _                            |   Success: ok                                     |
| msg from user2 is Hello2      |      _                            |   user2: Hello2                                   |
| msg from user3 is Hello3      |      _                            |   user3: Hello3                                   |
| msg from user4 is Hello4      |      _                            |   user4: Hello4                                   |
|_______________________________|___________________________________|___________________________________________________|
|   Test case 10 - Client successful join                                                                               |
|_______________________________________________________________________________________________________________________|
| SERVER                        |      CLIENT                       |   CLIENT SHOULD SEE                               |
|_______________________________|___________________________________|___________________________________________________|
| _                             |      /auth user1 123 nick         |   _                                               |
| reply ok is ok                |      _                            |   Success: ok                                     |
| reply ok is ok                |      /join channel1               |   Success: ok                                     |
| reply ok is ok                |      hello                        |   hello                                           |
| msg from user2 is hello2      |      _                            |   user2: hello2                                   |
| msg from user4 is Hello4      |      _                            |   user4: Hello4                                   |
|_______________________________|___________________________________|___________________________________________________|
|   Test case 11 - Client unsuccessful join                                                                             |
|_______________________________________________________________________________________________________________________|
| SERVER                        |      CLIENT                       |   CLIENT SHOULD SEE                               |
|_______________________________|___________________________________|___________________________________________________|
| _                             |      /auth user1 123 nick         |   _                                               |
| reply ok is ok                |      _                            |   Success: ok                                     |
| reply nok is nok              |      /join channel1               |   Failure: nok                                    |
| msg from user2 is hello2      |      _                            |   user2: hello2                                   |
| msg from user4 is Hello4      |      _                            |   user4: Hello4                                   |
|_______________________________|___________________________________|___________________________________________________|
|   Test case 12 - Client try to send multiple messages before reply is received                                        |
|_______________________________________________________________________________________________________________________|
| SERVER                        |      CLIENT                       |   CLIENT SHOULD SEE                               |
|_______________________________|___________________________________|___________________________________________________|
| _                             |      /auth user1 123 nick         |   _                                               |
| _                             |      hello                        |   ERR: {err message}                              |
| _                             |      again                        |   ERR: {err message}                              |
| _                             |      hi                           |   ERR: {err message}                              |
| reply ok is ok                |      _                            |   Success: ok                                     |
| (should receive all msgs)     |      _                            |                                                   |
|_______________________________|___________________________________|___________________________________________________|
|   Test case 13 - Client try auth twice (before reply)                                                                 |
|_______________________________________________________________________________________________________________________|
| SERVER                        |      CLIENT                       |   CLIENT SHOULD SEE                               |
|_______________________________|___________________________________|___________________________________________________|
| _                             |      /auth user1 123 nick         |   _                                               |
| _                             |      /auth user1 123 nick         |   ERR: {err message}                              |
| reply ok is ok                |      hello                        |   Success: ok                                     |
| msg from user4 is Hello4      |      _                            |   user4: Hello4                                   |
|_______________________________|___________________________________|___________________________________________________|
|   Test case 13 - Client try auth twice (after reply)                                                                  |
|_______________________________________________________________________________________________________________________|
| SERVER                        |      CLIENT                       |   CLIENT SHOULD SEE                               |
|_______________________________|___________________________________|___________________________________________________|
| _                             |      /auth user1 123 nick         |   _                                               |
| reply ok is ok                |      hello                        |   Success: ok                                     |
| msg from user4 is Hello4      |      _                            |   user4: Hello4                                   |
| _                             |      /auth user1 123 nick         |   ERR: {err message}                              |
|_______________________________|___________________________________|___________________________________________________|
